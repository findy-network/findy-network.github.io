<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.111.3"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>How To Write Modifiable & Readable Go Code | Findy Agency</title><meta name=description content="You can write more **readable and modifiable** code when you execute **multi-discipline engineering practices**. For instance, when you know how compilers and underlying hardware work, you can optimize your code for readability without sacrificing performance. Common programming wisdom says you shouldn't prioritize performance over other [software architecture quality attributes](https://en.wikipedia.org/wiki/List_of_system_quality_attributes) during programming. I claim you can and should bring performance metrics on board from the beginning!"><meta property="og:title" content="How To Write Modifiable & Readable Go Code"><meta property="og:description" content="You can write more **readable and modifiable** code when you execute **multi-discipline engineering practices**. For instance, when you know how compilers and underlying hardware work, you can optimize your code for readability without sacrificing performance. Common programming wisdom says you shouldn't prioritize performance over other [software architecture quality attributes](https://en.wikipedia.org/wiki/List_of_system_quality_attributes) during programming. I claim you can and should bring performance metrics on board from the beginning!"><meta property="og:type" content="article"><meta property="og:url" content="https://findy-network.github.io/blog/2023/10/22/how-to-write-modifiable-readable-go-code/"><meta property="og:image" content="https://findy-network.github.io/blog/2023/10/22/how-to-write-modifiable-readable-go-code/cover.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-10-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-10-22T00:00:00+00:00"><meta property="og:site_name" content="Findy Agency"><meta itemprop=name content="How To Write Modifiable & Readable Go Code"><meta itemprop=description content="You can write more **readable and modifiable** code when you execute **multi-discipline engineering practices**. For instance, when you know how compilers and underlying hardware work, you can optimize your code for readability without sacrificing performance. Common programming wisdom says you shouldn't prioritize performance over other [software architecture quality attributes](https://en.wikipedia.org/wiki/List_of_system_quality_attributes) during programming. I claim you can and should bring performance metrics on board from the beginning!"><meta itemprop=datePublished content="2023-10-22T00:00:00+00:00"><meta itemprop=dateModified content="2023-10-22T00:00:00+00:00"><meta itemprop=wordCount content="1067"><meta itemprop=image content="https://findy-network.github.io/blog/2023/10/22/how-to-write-modifiable-readable-go-code/cover.png"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://findy-network.github.io/blog/2023/10/22/how-to-write-modifiable-readable-go-code/cover.png"><meta name=twitter:title content="How To Write Modifiable & Readable Go Code"><meta name=twitter:description content="You can write more **readable and modifiable** code when you execute **multi-discipline engineering practices**. For instance, when you know how compilers and underlying hardware work, you can optimize your code for readability without sacrificing performance. Common programming wisdom says you shouldn't prioritize performance over other [software architecture quality attributes](https://en.wikipedia.org/wiki/List_of_system_quality_attributes) during programming. I claim you can and should bring performance metrics on board from the beginning!"><link rel=preload href=/scss/main.min.fe387f54b6718948c0bf2601ff90a4fd03ef4cc0f5b2a71235d60ec478692d2d.css as=style><link href=/scss/main.min.fe387f54b6718948c0bf2601ff90a4fd03ef4cc0f5b2a71235d60ec478692d2d.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class="td-page td-blog"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Findy Agency</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/blog/><span class=active>Blog</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-blog-li><a href=/blog/ title="Findy Agency Blog" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-blog><span>Blog</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240105path-to-passwordless-li><a href=/blog/2024/01/05/path-to-passwordless/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240105path-to-passwordless><span>Path to Passwordless</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20231116test-coverage-beyond-unit-testing-li><a href=/blog/2023/11/16/test-coverage-beyond-unit-testing/ title="Test Coverage Beyond Unit Testing" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20231116test-coverage-beyond-unit-testing><span>Coverage for E2E Tests</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-blog20231022how-to-write-modifiable-readable-go-code-li><a href=/blog/2023/10/22/how-to-write-modifiable-readable-go-code/ title="How To Write Modifiable & Readable Go Code" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-blog20231022how-to-write-modifiable-readable-go-code><span class=td-sidebar-nav-active-item>Quality Go Code</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20231008how-to-write-performant-go-code-li><a href=/blog/2023/10/08/how-to-write-performant-go-code/ title="How To Write Performant Go Code" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20231008how-to-write-performant-go-code><span>Performant Go Code</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230823gophercon-uk-2023-li><a href=/blog/2023/08/23/gophercon-uk-2023/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230823gophercon-uk-2023><span>GopherCon UK 2023</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230622beautiful-state-machines-fsm-part-ii-li><a href=/blog/2023/06/22/beautiful-state-machines-fsm-part-ii/ title="Beautiful State-Machines - FSM Part II" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230622beautiful-state-machines-fsm-part-ii><span>Beautiful State-Machines</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230613the-agency-workshop-li><a href=/blog/2023/06/13/the-agency-workshop/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230613the-agency-workshop><span>The Agency Workshop</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230609the-time-to-build-ssi-capabilities-is-now-li><a href=/blog/2023/06/09/the-time-to-build-ssi-capabilities-is-now/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230609the-time-to-build-ssi-capabilities-is-now><span>The Time to Build SSI Capabilities Is Now</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230525digital-identity-hack-part-3-introduction-to-ssi-presentation-li><a href=/blog/2023/05/25/digital-identity-hack-part-3-introduction-to-ssi-presentation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230525digital-identity-hack-part-3-introduction-to-ssi-presentation><span>Digital Identity Hack Part 3 – Introduction to SSI Presentation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230523digital-identity-hack-part-2-panel-discussion-on-blockchain-projects-li><a href=/blog/2023/05/23/digital-identity-hack-part-2-panel-discussion-on-blockchain-projects/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230523digital-identity-hack-part-2-panel-discussion-on-blockchain-projects><span>Digital Identity Hack Part 2 – Panel Discussion on Blockchain Projects</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230511digital-identity-hack-unlocking-the-potential-of-ssi-li><a href=/blog/2023/05/11/digital-identity-hack-unlocking-the-potential-of-ssi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230511digital-identity-hack-unlocking-the-potential-of-ssi><span>Digital Identity Hack – Unlocking the Potential of SSI</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230508deploying-with-cdk-pipeline-li><a href=/blog/2023/05/08/deploying-with-cdk-pipeline/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230508deploying-with-cdk-pipeline><span>Deploying with CDK Pipeline</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230425agencys-iac-journey-li><a href=/blog/2023/04/25/agencys-iac-journey/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230425agencys-iac-journey><span>Agency's IaC Journey</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230313no-code-ssi-chatbots-fsm-part-i-li><a href=/blog/2023/03/13/no-code-ssi-chatbots-fsm-part-i/ title="No-Code SSI Chatbots - FSM Part I" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230313no-code-ssi-chatbots-fsm-part-i><span>No-Code SSI Chatbots</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230206how-to-equip-your-app-with-vc-superpowers-li><a href=/blog/2023/02/06/how-to-equip-your-app-with-vc-superpowers/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230206how-to-equip-your-app-with-vc-superpowers><span>How to Equip Your App with VC Superpowers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20230130getting-started-with-ssi-service-agent-development-li><a href=/blog/2023/01/30/getting-started-with-ssi-service-agent-development/ title="Getting Started with SSI Service Agent Development " class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20230130getting-started-with-ssi-service-agent-development><span>Getting Started with SSI Service Agent Development</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220930ledger-multiplexer-li><a href=/blog/2022/09/30/ledger-multiplexer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220930ledger-multiplexer><span>Ledger Multiplexer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220927the-hyperledger-global-forum-experience-li><a href=/blog/2022/09/27/the-hyperledger-global-forum-experience/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220927the-hyperledger-global-forum-experience><span>The Hyperledger Global Forum Experience</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220829the-findy-agency-api-li><a href=/blog/2022/08/29/the-findy-agency-api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220829the-findy-agency-api><span>The Findy Agency API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220427trust-in-your-wallet-li><a href=/blog/2022/04/27/trust-in-your-wallet/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220427trust-in-your-wallet><span>Trust in Your Wallet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220407ssi-empowered-identity-provider-li><a href=/blog/2022/04/07/ssi-empowered-identity-provider/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220407ssi-empowered-identity-provider><span>SSI-Empowered Identity Provider</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220314replacing-indy-sdk-li><a href=/blog/2022/03/14/replacing-indy-sdk/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220314replacing-indy-sdk><span>Replacing Indy SDK</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220305the-missing-network-layer-model-li><a href=/blog/2022/03/05/the-missing-network-layer-model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220305the-missing-network-layer-model><span>The Missing Network Layer Model</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20220119fostering-interoperability-li><a href=/blog/2022/01/19/fostering-interoperability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20220119fostering-interoperability><span>Fostering Interoperability</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20211109anchoring-chains-of-trust-li><a href=/blog/2021/11/09/anchoring-chains-of-trust/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20211109anchoring-chains-of-trust><span>Anchoring Chains of Trust</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20210920the-arm-adventure-on-docker-li><a href=/blog/2021/09/20/the-arm-adventure-on-docker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20210920the-arm-adventure-on-docker><span>The Arm Adventure on Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20210908travelogue-li><a href=/blog/2021/09/08/travelogue/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20210908travelogue><span>Travelogue</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20210811announcing-findy-agency-li><a href=/blog/2021/08/11/announcing-findy-agency/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-blog20210811announcing-findy-agency><span>Announcing Findy Agency</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a id=print href=https://findy-network.github.io/blog/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#code-modifiability>Code Modifiability</a><ul><li><a href=#refactorability>Refactorability</a></li></ul></li><li><a href=#code-readability>Code Readability</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role=main><a class=td-rss-button title=RSS href=https://findy-network.github.io/blog/index.xml target=_blank rel=noopener><i class="fa-solid fa-rss" aria-hidden=true></i></a><div class=td-content><h1>How To Write Modifiable & Readable Go Code</h1><div class=lead>You can write more <strong>readable and modifiable</strong> code when you execute <strong>multi-discipline engineering practices</strong>. For instance, when you know how compilers and underlying hardware work, you can optimize your code for readability without sacrificing performance. Common programming wisdom says you shouldn&rsquo;t prioritize performance over other <a href=https://en.wikipedia.org/wiki/List_of_system_quality_attributes>software architecture quality attributes</a> during programming. I claim you can and should bring performance metrics on board from the beginning!</div><div class="td-byline mb-4">By <b>Harri Lainio</b> |
<time datetime=2023-10-22 class=text-muted>Sunday, October 22, 2023</time></div><header class=article-meta></header><p>Since jumping on the OSS (Open Source Software) wagon, I have been learning new
things about software development and getting more evidence to do certain things
in a specific way.</p><p>Two of my favorite &rsquo;things&rsquo; at the <em>code level</em> are <strong>readability</strong>
and <strong>modifiability</strong>. The latter is a very old friend of SW architecture&rsquo;s
quality attributes (<a href=https://www.oreilly.com/library/view/software-architecture-in/9780132942799/>Software Architecture in Practice, Len Bass, et
al.</a>).
Still, it is not well aligned with the current <em>practices and tools</em> in the OSS scene
because everything is so text-centric. Practise has taught that software
architecture must be expressed in various notations; most are visual.</p><blockquote><p><a href=https://en.wikipedia.org/wiki/A_picture_is_worth_a_thousand_words><em>&ldquo;A picture is worth a thousand words&rdquo;</em></a></p></blockquote><p>Most of us can reason a well-grafted state-machine diagram much faster
than a code written our favorite programming language. For instance, the next
state-machine diagram’s protocol implementation is constructed of thousands of
lines of code structured in multiple files that depend on external modules and
libraries. <strong>We need abstraction layers and modules to manage all that complexity.</strong></p><pre tabindex=0><code class=language-plantuml data-lang=plantuml>@startuml

title Protocol State Machine

state &#34;Waiting Start Cmd/Msg&#34; as wstart

[*] -&gt; wstart
wstart --&gt; PSM: InvitationCmd
wstart --&gt; PSM: ConnReqMsg

state &#34;ConnectionProtocolRunning&#34; as PSM {

	state &#34;Sending ConnReq&#34; as sreq
	state &#34;Waiting ConnResp&#34; as wresp

	&#39;[*] -left-&gt; sreq: InvitationCmd
	[*] --&gt; sreq: InvitationCmd

	sreq --&gt; wresp : http/200
	sreq: do/send until http/200
	
	wresp: exit/return http 200

	wresp --&gt; [*]: ConnRespMsg

||

	state &#34;Sending ConnResp&#34; as sresp

	[*] --&gt; sresp: ConnReqMsg

	sresp: do/send until http 200

	sresp --&gt; [*]: http/200
}

PSM --&gt; [*]

@enduml
</code></pre><p>Expressing things with the control-flow structures of imperative (or functional)
programming languages is more challenging—especially when the correctness of
the design should be verified. It seems that it’s easy to forget software
quality attributes during fast-phasing programming if we use tools that only
manage sequential text, i.e., code. At the code level, we should use functions
that give us an abstraction hierarchy and help us to maintain <strong>modifiability</strong>—and
readability as well, of course.</p><p>Moreover, since my studies of SW architecture’s quality attributes, I have
understood that modifiability is more than modularity, re-usability, or using
correct architectural styles like pipe and filter. Now we understand the importance of
<a href=https://en.wikipedia.org/wiki/Test-driven_development>TTD</a>, <a href=https://en.wikipedia.org/wiki/Continuous_deployment>continuous
deployment</a>,
<a href=https://en.wikipedia.org/wiki/DevOps>DevOps</a>, etc. These practices
don&rsquo;t work only on <em>one</em> of the engineering expertise. The best results are
achieved <strong>through multi-disciplinary systems engineering practices</strong>.</p><blockquote><p>At NASA, “systems engineering” is defined as a methodical, multi-disciplinary
approach for the design, realization, technical management, operations, and
retirement of a system. — <a href=https://www.nasa.gov/wp-content/uploads/2018/09/nasa_systems_engineering_handbook_0.pdf>NASA Systems Engineering
Handbook</a></p></blockquote><p>In this and <a href=https://findy-network.github.io/blog/2023/10/08/how-to-write-performant-go-code/>my previous performance
post</a>,
I&rsquo;ll explain what multi-disciplinary software development practices mean when
your development is fast-phasing OSS.</p><h2 id=code-modifiability>Code Modifiability</h2><p>Most of the computer software is never ready. During its life cycle, it is under
continuous changes: new features are needed, bugs must be fixed, technical debt
needs to be amortized, etc.</p><p>In modern OSS-based software development, modifiability can be thought of as
<em>refactorability</em>. Why?</p><p>Because we want to follow The Boy Scouting Rule:</p><blockquote><p><em>Always leave the code you are working on a little bit better than you found it.</em></p></blockquote><p>An excellent example of this rule is that when you find a bug, before fixing
it to the mainstream, <strong>implement automatic tests</strong> to reproduce it.</p><h3 id=refactorability>Refactorability</h3><p>Go programming language is the most refactor-friendly of them all I have used.</p><ol><li>integrated test harness</li><li>benchmark tests</li><li>package naming</li><li>orthogonality</li><li>interface structure (no implementation declaration needed)</li><li>no <code>self</code> or <code>this</code> reserved words, you name object instances yourself</li><li>actual hybrid language combining OOP and functional programming features
concentrating on simplicity</li><li><em>batteries included</em> -standard library</li><li>type polymorphism, i.e., generics</li></ol><p>I don&rsquo;t think that&rsquo;s even all of the Go&rsquo;s features that help refactor your code,
but these are the fundamentals in the critical order.</p><p>Like any other programming language, Go isn&rsquo;t perfect. The current
error-handling mechanism and strict community with their &lsquo;idiomatic&rsquo; language
policies restrict some of Go&rsquo;s refactoring capabilities. But you can avoid them
by using helper packages and your brains.</p><p>And, of course, there are two new language (main) releases every year. Let&rsquo;s
hope that upcoming versions help us keep our Go projects refactorable and maybe
even help a little more.</p><h2 id=code-readability>Code Readability</h2><p>We want to maximize our <strong>code’s readability</strong>. One of the Go code’s problems is
that it overuses the if-statement, which prevents you from noticing the
algorithm&rsquo;s critical decision points.</p><p>For example, Go’s standard library includes quite many of the following code
blocks:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>doSomething</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>p</span> <span style=color:#000>any</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>b</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87;font-weight:700>byte</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>p</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87>panic</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;input argument p cannot be nil&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>b</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87>panic</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;input argument p cannot be nil&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>    <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>w</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Close</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>It’s easy to see that together with Go’s if-based error checking, these two hide
the happy path and make it difficult to follow the algorithm and skim the code.
The same thing can be found from Go’s unit tests if no 3rd party helper package
is used:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#204a87;font-weight:700>range</span> <span style=color:#000>tests</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>t</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Run</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>t</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>testing</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>               <span style=color:#000>r</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#ce5c00;font-weight:700>&lt;-</span><span style=color:#000>Open</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>config</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>credentials</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>got</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>r</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Err</span><span style=color:#000;font-weight:700>();</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>reflect</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeepEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>got</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>want</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>t</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Errorf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Open() = %v, want %v&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>got</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>want</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>               <span style=color:#000>w</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>r</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Handle</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>got</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;-</span><span style=color:#000>Export</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>w</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>exportCfg</span><span style=color:#000;font-weight:700>)).</span><span style=color:#000>Err</span><span style=color:#000;font-weight:700>();</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>reflect</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeepEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>got</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>want</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>t</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Errorf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Export() = %v, want %v&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>got</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>want</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>               <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>got</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;-</span><span style=color:#000>Close</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>w</span><span style=color:#000;font-weight:700>)).</span><span style=color:#000>Err</span><span style=color:#000;font-weight:700>();</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>reflect</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeepEqual</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>got</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>want</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>t</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Errorf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Close() = %v, want %v&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>got</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>want</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>The above code block is from a different test than the block below, but I think
you get the idea. I’m speaking fast skimming of code where simplicity and
appearance help a lot. Very much similar to syntax highlighting.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>TestNewTimeFieldRFC3339</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>t</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>testing</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>defer</span> <span style=color:#000>assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>PushTester</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>t</span><span style=color:#000;font-weight:700>)()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>testMsg</span> <span style=color:#000>Basicmessage</span>
</span></span><span style=display:flex><span>     <span style=color:#000>dto</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>FromJSON</span><span style=color:#000;font-weight:700>([]</span><span style=color:#204a87>byte</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>timeJSONRFC3339</span><span style=color:#000;font-weight:700>),</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>testMsg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>     <span style=color:#000>timeValue</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>testMsg</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SentTime</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#000>assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>INotNil</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>timeValue</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>     <span style=color:#000>assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Equal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>timeValue</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Year</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#0000cf;font-weight:700>2022</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>     <span style=color:#000>assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Equal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>timeValue</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Month</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>September</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>     <span style=color:#000>assert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Equal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>timeValue</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Day</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>That&rsquo;s clear and easy to skim. It&rsquo;s also straightforward to extend to use table
testing. I left it for the reader to figure out how that code renders without
an assert package.</p><h2 id=conclusion>Conclusion</h2><p>Go is built for hyper-large projects. Significant projects in every dimension:
software engineers, code lines, modules, function points, whatever. And it does
a pretty damn good job on that.</p><p>Unfortunately, the Go community isn&rsquo;t as open and welcoming as, for example,
Rust&rsquo;s community. (Not my words directly, but I share the opinion). Remember,
it&rsquo;s your code and your project to maintain. So, keep your head and remember:</p><blockquote><p><em>The whole problem with the world is that fools and fanatics are certain of
themselves, while wiser people are full of doubts.</em> — not entirely Bertrand
Russell</p></blockquote><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/blog/2023/10/08/how-to-write-performant-go-code/ aria-label="Previous - How To Write Performant Go Code" class="btn btn-primary"><span class=mr-1>←</span>Previous</a></li><li><a href=/blog/2023/11/16/test-coverage-beyond-unit-testing/ aria-label="Next - Test Coverage Beyond Unit Testing" class="btn btn-primary">Next<span class=ml-1>→</span></a></li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/findy-network aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2024 The Findy Agency Authors All Rights Reserved</small><p class=mt-2><a href=/about/>About Findy Agency</a></p></div></div></div></footer></div><script src=/js/deflate.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css integrity="sha512-6VMVcy7XQNyarhVuiL50FzpgCFKsyTd6YO93aaQEyET+BNaWvj0IgKR86Bf6+AmWczxAcSnL+JGjo+iStgO1gQ==" crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.js integrity="sha512-b9IKj4LCNrtCPBhceRcoYOHWW/S2q9fpl7iAJlyxYpykRj1SKM7FE9+E0NEnJ8g8ni47LBr2GuX9qzg/xeuwzQ==" crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/contrib/auto-render.min.js integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin=anonymous onload=renderMathInElement(document.body,null)></script><script src=https://cdn.jsdelivr.net/npm/mermaid@9.2.2/dist/mermaid.min.js integrity="sha512-IX+bU+wShHqfqaMHLMrtwi4nK6W/Z+QdZoL4kPNtRxI2wCLyHPMAdl3a43Fv1Foqv4AP+aiW6hg1dcrTt3xc+Q==" crossorigin=anonymous></script>
<script src=/js/main.min.e550617e9dce4b94b8bbd911c8616f43d4f6dc24c226d2a33d51ef6cb27f783d.js integrity="sha256-5VBhfp3OS5S4u9kRyGFvQ9T23CTCJtKjPVHvbLJ/eD0=" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script></body></html>